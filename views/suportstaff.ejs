<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nandha College</title>
    <h3><marquee>‚ö†Ô∏èBy submitting your complaint, you confirm that the information provided is accurate. Your complaint will be reviewed and addressed as soon as possible. Please avoid submitting sensitive personal information. We are committed to resolving your issue in line with our Privacy Policy and Terms of Service.</marquee></h3>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Body and background */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            background-color: #0f87e2;
            color: #ebf4fa;
        }

        /* Container for all sections */
        .container {
            align-items: center;
            width: 20%;
            max-width: 190px;
        }

        header {
            background-color: #333333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
        }

        header h1 {
            font-size: 36px;
            font-weight: bold;
        }

        header p {
            font-size: 18px;
            margin-top: 5px;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom right, #6fa8e8, #50c9c3);
            color: #333;
        }

        nav {
            background-color: #20155b00;
            display: flex;
            justify-content: center;
            padding: 5px;
        }

        nav a {
            color: rgb(22, 57, 233);
            padding: 12px 20px;
            text-decoration: none;
            font-size: 18px;
            text-align: center;
            transition: background-color 0.3s ease;
        }

        nav a:hover {
            background-color: #575757;
        }

        .contact-box {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: center;
            margin-top: 2rem;
            margin-left: 575px;
        }

        .contact-box h2 {
            margin-bottom: 1rem;
            font-size: 1.8rem;
            color: #333;
        }

        .contact-box label {
            display: block;
            text-align: left;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #555;
        }

        .contact-box input[type="text"],
        .contact-box input[type="email"],
        .contact-box textarea {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1rem;
        }

        .contact-box button {
            padding: 0.8rem 1.5rem;
            background-color: #4a90e2;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .contact-box button:hover {
            background-color: #3b7bbf;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4); /* Semi-transparent background */
            animation: fadeIn 0.5s ease-out;
        }

        .modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            width: 60%;
            max-width: 400px;
            text-align: center;
            animation: slideIn 0.5s ease-out;
        }

        .modal button {
            background-color: #4a90e2;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal button:hover {
            background-color: #3b7bbf;
        }

        /* Close button */
        .close {
            color: #3b7bbf;
            font-size: 88px;
            font-weight: bold;
            position: absolute;
            right: 10px;
            top: 10px;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* Loading Spinner Styles */
        #loading {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
        }

        #spinner {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Button hover effect */
        .contact-box button:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        @keyframes slideIn {
            0% { transform: translateY(-50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

    </style>
</head>
<body>

<header>
    <img src="./images.jpg" alt="">
    <div>
        <center><h1>Nandha Engineering College</h1>
        <p>Erode - Perundurai, Main Road, Vaikkaalmedu, Erode, Tamil Nadu 638052</p></center>
    </div>
</header>

<nav>
    <center><h2>Register Your Complaint Hereüëá</h2>
    <a href="/student" class="action"><i class=""></i>Studentüßë‚Äçüéì</a>
    <a href="/faculty" class="active"><i class="fas fa-tachometer-alt"></i> Facultyüë®‚Äçüè´</a>
    <a href="/suportstaff"><i class="fas fa-users"></i> Support Staffüë®‚Äçüè´üë®‚Äçüè´</a>
    </center>
</nav>

<!-- Complaint Form (Initially Shown) -->
<div class="contact-box" id="complaintForm">
    <h2>Support Staff Complaint Box</h2>
    <form id="complaintFormSubmit" action="/suportstaffData" method="post">
        <label for="subject">Subject</label>
        <input type="text" id="subject" name="subject" placeholder="Subject" required autocomplete="off">

        <label for="yourName">Name:</label>
        <input type="text" id="yourName" name="yourName" placeholder="Your Name" required autocomplete="off">

        <label for="message">Complaint</label>
        <textarea id="message" name="message" placeholder="Your Complaint" required autocomplete="off"></textarea>

        <button type="submit">Submit</button>
    </form>
</div>

<!-- Modal for the pop-up message -->
<div id="popupModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Your complaint has been submitted successfully! <br>And drop your feedback Hereüëá</h2>
        <button onclick="goToFeedback()">FEEDBACK</button>
    </div>
</div>

<!-- Loading Spinner -->
<div id="loading">
    <div id="spinner"></div>
    <p>Loading...</p>
</div>

<script>
    // Function to show modal pop-up message
    document.getElementById('complaintFormSubmit').onsubmit = function(event) {
        event.preventDefault(); // Prevent form submission
        showPopup(); // Show the popup
    }

    function showPopup() {
        document.getElementById("popupModal").style.display = "block";
    }

    // Function to close the modal and submit the form
    function closeModal() {
        document.getElementById("popupModal").style.animation = "fadeOut 0.5s ease-out"; // Add fade-out animation
        setTimeout(function() {
            document.getElementById("popupModal").style.display = "none";
            document.getElementById("complaintFormSubmit").submit(); // Submit the form after modal is closed
        }, 500); // Wait for animation to finish before hiding the modal
    }

    // Function to show loading spinner and redirect to feedback page
    function goToFeedback() {
        document.getElementById("loading").style.display = "block"; // Show loading spinner
        setTimeout(function() {
            window.location.href = '/feedback'; // Redirect after delay
        }, 3000); // 3 seconds delay for loading spinner
    }

    // Close modal when clicked outside the modal content
    window.onclick = function(event) {
        if (event.target == document.getElementById("popupModal")) {
            closeModal();
        }
    }
</script>

</body>
</html>
